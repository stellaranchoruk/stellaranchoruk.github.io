<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Real world assets, mirrored on Stellar | Mirrasets Demo</title>
    <base href="" />
    <link rel="icon" type="image/x-icon" href="favicon.ico" />

    <!-- Mirrasets OG / Twitter metasâ€¦ -->
    <link rel="canonical" href="/" />
    <meta property="og:site_name"        content="Mirrasets" />
    <meta property="og:title"            content="Real world assets, mirrored on Stellar" />
    <meta property="og:url"              content="https://mirrasets.com/" />
    <meta property="og:description"      content="Improve trading on Stellar with fiat pegged mirrorcoins" />
    <meta property="og:image"            content="https://mirrasets.com/images/open_graph2.png" />
    <meta name="twitter:card"            content="summary_large_image" />
    <meta name="twitter:title"           content="Mirrasets - Real world assets, mirrored on Stellar." />
    <meta name="twitter:description"     content="Improve trading on Stellar with fiat pegged mirrorcoins." />
    <meta name="twitter:image"           content="https://mirrasets.com/images/open_graph2.png" />
    <meta name="description"             content="Mirrasets - Real world assets, mirrored on Stellar." />
    <meta name="viewport"                content="width=device-width, minimum-scale=1, initial-scale=1, user-scalable=yes" />

    <!-- Stellar Wallet Kit CSS & UMD bundle -->
    <link
      rel="stylesheet"
      href="https://unpkg.com/@stellar/walletkit@latest/dist/walletkit.css"
    />
    <script src="https://unpkg.com/@stellar/walletkit@latest/dist/walletkit.umd.js"></script>

    <!-- Your existing styles and scripts -->
    <link rel="stylesheet" href="https://mirrasets.com/styles/info.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/stellar-sdk/8.2.5/stellar-sdk.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js"></script>
  </head>

  <body>
    <div class="main-content" id="main-content">
      <header class="page-header">
        <!-- â€¦ your existing header/nav â€¦ -->
      </header>

      <section class="main-block">
        <!-- â€¦ your existing main content â€¦ -->
      </section>

      <!-- === Stellar Wallet Kit Demo Section === -->
      <section class="wallet-login centered-block" style="text-align:center; padding:2rem 0;">
        <h2>Connect your Stellar Wallet</h2>
        <!-- This is where the kit will render its â€œConnectâ€ button -->
        <div id="wallet-root"></div>
      </section>

      <section class="wallets-and-exchanges centered-block">
        <!-- â€¦ your existing â€œWhat We Doâ€ and Twitter feed â€¦ -->
      </section>

      <footer>
        <!-- â€¦ your existing footer â€¦ -->
      </footer>
    </div>

    <!-- Initialize Stellar Wallet Kit -->
    <script>
      (function () {
        const { StellarWalletKit, networks } = window.WalletKit;

        // Instantiate the kit pointing at our container
        const walletKit = new StellarWalletKit({
          network: networks.TESTNET,           // switch to PUBLIC for mainnet
          selectorNode: document.getElementById('wallet-root'),
          appName: 'Mirrasets Demo',           // appears in wallet UIs
        });

        // Handle user connecting
        walletKit.on('connect', ({ publicKey, walletType }) => {
          console.log('âœ… Connected:', publicKey, 'via', walletType);
          // e.g. send publicKey to your backend to create a session
          // fetch('/api/session', { method:'POST', body: JSON.stringify({publicKey}) })
        });

        // Handle user disconnecting
        walletKit.on('disconnect', () => {
          console.log('ðŸ‘‹ Disconnected');
        });

        // (Optional) expose the kit globally for debugging:
        window._stellarKit = walletKit;
      })();
    </script>

    <!-- Your other scripts: menu toggle, analytics, etcâ€¦ -->
    <script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script>
    <script src="https://mirrasets.com/scripts/info.js"></script>
    <script src="https://mirrasets.com/scripts/mobile-menu.js"></script>
  </body>
</html>
