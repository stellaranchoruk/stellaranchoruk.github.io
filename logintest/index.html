<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Mirrasets | Real world assets mirrored on Stellar</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- SEO / Social -->
  <meta name="description" content="Improve trading on Stellar with fiat pegged mirrorcoins" />
  <meta property="og:title" content="Real world assets, mirrored on Stellar" />
  <meta property="og:image" content="https://mirrasets.com/images/open_graph2.png" />

  <!-- Wallets Kit styling -->
  <link rel="stylesheet" href="https://stellarwalletskit.dev/css/stellar-wallets-kit.css" />

  <!-- Mirrasets styling -->
  <link rel="stylesheet" href="https://mirrasets.com/styles/info.css" />
</head>

<body>
  <header class="page-header">
    <a class="main-link" href="/">
      <img src="/icons/sauk-logo.png" alt="Mirrasets Logo" />
    </a>
    <!-- nav/menu omitted for clarity -->
  </header>

  <section class="main-block" style="text-align:center; padding:2rem;">
    <h1>Real world assets<br />mirrored on the Stellar network</h1>
    <p>Try connecting your wallet below:</p>
    <button id="connect-btn" style="padding:12px 24px; font-size:16px; background:#4a4a4a; color:white; border:none; border-radius:6px; cursor:pointer;">
      Connect with Stellar
    </button>
  </section>

  <footer style="text-align:center; margin-top:3rem;">
    <p>© 2025 mirrasets.com</p>
  </footer>

  <!-- Official Wallets Kit script -->
  <script src="https://stellarwalletskit.dev/js/stellar-wallets-kit.umd.js"></script>

  <!-- Initialization -->
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const {
        StellarWalletsKit,
        WalletNetwork,
        allowAllModules
      } = window.StellarWalletsKitLib;

      const kit = new StellarWalletsKit({
        network: WalletNetwork.PUBLIC,
        modules: allowAllModules()
      });

      document.getElementById("connect-btn").addEventListener("click", () => {
        kit.openModal({
          modalTitle: "Select a Stellar Wallet",
          notAvailableText: "No wallets found. Please install Freighter or another supported wallet.",
          onWalletSelected: async (wallet) => {
            await kit.setWallet(wallet.id);
            const { address } = await kit.getAddress();
            console.log("✅ Connected:", wallet.id, address);
            alert(`Connected with ${wallet.id}:\n${address}`);
          },
          onClosed: (err) => {
            if (err) {
              console.warn("Modal error:", err);
              alert("Wallet modal closed or errored");
            }
          }
        });
      });
    });
  </script>
</body>
</html>
