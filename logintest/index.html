<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Real world assets, mirrored on Stellar | Mirrasets</title>
  <base href="" />
  <link rel="icon" href="favicon.ico" />

  <!-- Open Graph / Twitter -->
  <meta property="og:site_name" content="Mirrasets" />
  <meta property="og:title"     content="Real world assets, mirrored on Stellar" />
  <meta property="og:url"       content="https://mirrasets.com/" />
  <meta property="og:description" content="Improve trading on Stellar with fiat pegged mirrorcoins" />
  <meta name="twitter:card"     content="summary_large_image" />
  <meta name="description"      content="Mirrasets - Real world assets, mirrored on Stellar." />
  <meta name="viewport"         content="width=device-width, initial-scale=1" />

  <!-- Your existing CSS -->
  <link rel="stylesheet" href="https://mirrasets.com/styles/info.css" />

  <!-- Stellar Wallets Kit CSS -->
  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/@creit.tech/stellar-wallets-kit@latest/dist/index.css"
  />
</head>

<body>
  <div class="main-content" id="main-content">
    <!-- ============== Header ============== -->
    <header class="page-header">
      <a class="main-link" href="/"><img src="/icons/sauk-logo.png" alt="Mirrasets Logo" /></a>
      <!-- … your existing nav/menu here … -->
    </header>

    <!-- ============== Hero ============== -->
    <section class="main-block">
      <img src="/images/header_image_mobile.png" alt="Mirrasets Hero" style="width:100%;height:auto;" />
      <div class="hero-text">
        <h1>Real world assets,<br/>mirrored on the Stellar network</h1>
      </div>
    </section>

    <!-- ==== Wallet Connect Section ==== -->
    <section class="wallet-login centered-block" style="text-align:center; padding:3rem 1rem;">
      <h2>Connect your Stellar Wallet</h2>
      <!-- We’ll render our own button here -->
      <button id="connect-btn"
              style="padding:0.75rem 1.5rem; font-size:1rem; border:none; background:#4a4a4a; color:#fff; border-radius:4px;">
        Connect with Stellar
      </button>
    </section>

    <!-- ============== What We Do & Tweets ============== -->
    <section class="wallets-and-exchanges centered-block">
      <div class="text wallets">
        <h4>What We Do</h4>
        <p>Mirrasets mirrors real world assets on the Stellar network. We currently provide the pegged stablecoins GBPC, KRWC & EURC…</p>
        <p>Each token is backed by a verifiable USDC reserve on the Stellar ledger…</p>
      </div>
      <div class="text exchanges">
        <a class="twitter-timeline"
           data-width="400" data-height="550" data-theme="light"
           href="https://twitter.com/Mirrasets?ref_src=twsrc%5Etfw">
          Tweets by Mirrasets
        </a>
        <script async src="https://platform.twitter.com/widgets.js"></script>
      </div>
    </section>

    <!-- ============== Footer ============== -->
    <footer>
      <div class="centered-block content">
        <div class="copyright-line">
          <div class="copyright">© 2025 mirrasets.com</div>
        </div>
      </div>
    </footer>
  </div>

  <!-- Your existing scripts -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js"></script>
  <script data-cfasync="false"
          src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js">
  </script>
  <script src="https://mirrasets.com/scripts/info.js"></script>
  <script src="https://mirrasets.com/scripts/mobile-menu.js"></script>

  <!-- ==== Stellar Wallets Kit Initialization ==== -->
  <script type="module">
    import {
      StellarWalletsKit,
      WalletNetwork,
      allowAllModules
    } from 'https://cdn.jsdelivr.net/npm/@creit.tech/stellar-wallets-kit@latest/dist/index.esm.js';

    import {
      WalletConnectModule,
      WalletConnectAllowedMethods
    } from 'https://cdn.jsdelivr.net/npm/@creit.tech/stellar-wallets-kit@latest/dist/modules/walletconnect.module.esm.js';

    // 1) Instantiate the kit, include all the “built-in” modules plus WalletConnect
    const kit = new StellarWalletsKit({
      network: WalletNetwork.PUBLIC,        // change to TESTNET if you want
      modules: [
        ...allowAllModules(),               // Freighter, Albedo, Lobstr, xBull, etc.
        new WalletConnectModule({
          url:       window.location.origin,
          projectId: 'YOUR_PROJECT_ID',      // ← replace this
          method:    WalletConnectAllowedMethods.SIGN,
          name:      'Mirrasets',
          description: 'Connect your Stellar Wallet to Mirrasets',
          icons:     [window.location.origin + '/icons/sauk-logo.png'],
          network:   WalletNetwork.PUBLIC,
        })
      ]
    });

    // 2) Wire up our own button to open the modal
    document.getElementById('connect-btn').addEventListener('click', () => {
      kit.openModal({
        modalTitle: 'Select a Stellar Wallet',
        onWalletSelected: async (option) => {
          // set the chosen wallet and grab the address
          kit.setWallet(option.id);
          const { address } = await kit.getAddress();
          console.log('✅ Connected:', option.id, address);
          // → send `address` to your backend to start a session!
        },
        onClosed: (err) => {
          if (err) console.warn('Modal closed with error', err);
        }
      });
    });
  </script>
</body>
</html>
