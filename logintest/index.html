<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Stellar Wallets Kit Minimal ESM Demo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- 1) Core CSS for the kit (v1.7.5) -->
  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/@creit.tech/stellar-wallets-kit@1.7.5/dist/index.css"
  />
</head>
<body style="display:flex; flex-direction:column; align-items:center; justify-content:center; height:100vh; margin:0; font-family:sans-serif;">

  <h1>Stellar Wallets Kit Demo</h1>
  <div id="wallet-root" style="margin-top:1rem;"></div>

  <!-- 2) ESM build of the kit -->
  <script type="module">
    import {
      StellarWalletsKit,
      WalletNetwork,
      allowAllModules
    } from 'https://cdn.jsdelivr.net/npm/@creit.tech/stellar-wallets-kit@1.7.5/dist/index.esm.js';

    // 3) Instantiate the kit on PUBLIC
    const kit = new StellarWalletsKit({
      network: WalletNetwork.PUBLIC,
      modules: allowAllModules()   // Freighter, Albedo, Rabet, Lobstr, xBull, etc.
    });

    // 4) Render the “Connect” button
    kit.createButton({
      container: document.getElementById('wallet-root'),
      buttonText: 'Connect with Stellar',
      onConnect: ({ address, walletId }) => {
        console.log('✅ Connected:', address, 'via', walletId);
        alert(`Connected!\n${walletId}: ${address}`);
      },
      onDisconnect: () => {
        console.log('👋 Disconnected');
        alert('Disconnected');
      }
    });
  </script>
</body>
</html>
